# üö® –ë—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Silent Fail

## ‚ùì –û—Ç–≤–µ—Ç—ã –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### 1. –ì–¥–µ –∏—Å–∫–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É —Å–±–æ—è –±–µ–∑ —è–≤–Ω—ã—Ö –æ—à–∏–±–æ–∫?

**üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –º–µ—Å—Ç–∞ –ø–æ–∏—Å–∫–∞:**

1. **–ú–µ–∂–¥—É –∞—Ä—Ö–∏–≤–∞—Ü–∏–µ–π –∏ —ç–∫—Å–ø–æ—Ä—Ç–æ–º IPA**
   - Flutter —Å–æ–∑–¥–∞–µ—Ç .xcarchive, –Ω–æ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ IPA
   - –ò—â–∏—Ç–µ: `find build/ -name "*.xcarchive"`

2. **–í stderr, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –∫–∞–∂–µ—Ç—Å—è –ø—É—Å—Ç—ã–º**
   - –°–∫—Ä—ã—Ç—ã–µ –æ—à–∏–±–∫–∏ —á–∞—Å—Ç–æ –ø–æ–ø–∞–¥–∞—é—Ç –≤ stderr
   - –ö–æ–º–∞–Ω–¥–∞: `flutter build ipa 2> stderr.log`

3. **–í —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö**
   - –ù–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
   - –ù–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏
   - –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞

4. **–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ–¥–ø–∏—Å–∏ –∫–æ–¥–∞**
   - –î–∞–∂–µ —Å `--no-codesign` –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `grep -r "CODE_SIGN" ios/`

### 2. –¢–∏–ø–æ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã Silent Fail

**üîç –°–∞–º—ã–µ —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

#### A. –ü—Ä–æ–±–ª–µ–º—ã —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∞—Ä—Ö–∏–≤–∞ (70% —Å–ª—É—á–∞–µ–≤)
```bash
# –ê—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è
# –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤ –ª–æ–≥–∞—Ö:
"Archive succeeded" ‚úÖ
"Export failed" ‚ùå –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç "Built ... .ipa"
```

#### B. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SKIP_INSTALL (20% —Å–ª—É—á–∞–µ–≤)
```bash
# –í xcconfig –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
SKIP_INSTALL=NO  # –ù–ï YES!
```

#### C. –ü—Ä–æ–±–ª–µ–º—ã —Å bundle identifier (5% —Å–ª—É—á–∞–µ–≤)
```bash
# –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ bundle ID:
com.example.*  # –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã Apple
–ø—É—Å—Ç–æ–π –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
```

#### D. –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (5% —Å–ª—É—á–∞–µ–≤)
```bash
# –ù–µ—Ö–≤–∞—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤:
df -h  # < 1GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
vm_stat  # –Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≤ CI

**üõ†Ô∏è –£–ª—É—á—à–µ–Ω–Ω—ã–π workflow –≤–∫–ª—é—á–∞–µ—Ç:**

```yaml
# 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ stdout –∏ stderr
flutter build ipa --verbose > stdout.log 2> stderr.log

# 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
(while true; do echo "$(date): $(df -h . | tail -1)"; sleep 10; done) &

# 3. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
find build/ -name "*.ipa" -o -name "*.xcarchive" -o -name "*.app"

# 4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–∏ —Å–±–æ–µ
xcodebuild archive + xcodebuild -exportArchive
flutter build ios + manual IPA creation
```

### 4. –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤ –ª–æ–≥–∞—Ö

**‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å):**
```
Built build/ios/ipa/Runner.ipa (XX.XMB)
Archive succeeded
Export succeeded
```

**‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–∏—â–∏—Ç–µ):**
```
# –°–∫—Ä—ã—Ç—ã–µ –æ—à–∏–±–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞:
"Unable to export archive"
"Export failed"
"No signing certificate" (–¥–∞–∂–µ —Å --no-codesign)

# –ü—Ä–æ–±–ª–µ–º—ã —Å bundle:
"Bundle identifier ... is not valid"
"CFBundleIdentifier not found"

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
"No space left on device"
"Permission denied"
"Operation not permitted"

# –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:
"Framework not found"
"Library not loaded"
"Symbol not found"
```

**‚ö†Ô∏è –ö–æ—Å–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º:**
```
# –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ (< 2 –º–∏–Ω—É—Ç)
# –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–æ–∫–∏ "Running Xcode build"
# –ú–Ω–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ –ø–æ–¥–ø–∏—Å–∏ –∫–æ–¥–∞
# –û—à–∏–±–∫–∏ –≤ CocoaPods post_install
```

### 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**üîç –ï—Å–ª–∏ –±—ã —è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–ª:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ —Å–±–æ—Ä–∫–∏
df -h  # –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
xcode-select -p  # –ø—É—Ç—å –∫ Xcode
xcrun --show-sdk-version  # –≤–µ—Ä—Å–∏—è SDK

# 2. –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
flutter build ipa --verbose --analyze-size 2>&1 | tee full.log

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
find . -name "*.ipa" -exec ls -lh {} \;
find build/ -name "*.xcarchive" -exec ls -lh {} \;

# 4. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
ls -la build/ios/archive/*/Products/Applications/

# 5. –ü—Ä—è–º–æ–π xcodebuild –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
cd ios
xcodebuild archive -workspace Runner.xcworkspace -scheme Runner \
  -configuration Release -archivePath build/test.xcarchive \
  CODE_SIGNING_REQUIRED=NO

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞
xcodebuild -showBuildSettings -project Runner.xcodeproj \
  -scheme Runner -configuration Release | grep -i "code_sign\|bundle"
```

## üéØ –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ü—Ä–∏ Silent Fail –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É:

1. **[ ]** –ï—Å—Ç—å –ª–∏ —Å—Ç—Ä–æ–∫–∞ "Built ... .ipa" –≤ –ª–æ–≥–∞—Ö?
2. **[ ]** –°–æ–∑–¥–∞–ª—Å—è –ª–∏ .xcarchive –≤ build/?
3. **[ ]** –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (>1GB)?
4. **[ ]** –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω –ª–∏ bundle identifier?
5. **[ ]** –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ xcconfig?
6. **[ ]** –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ stderr?
7. **[ ]** –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥?

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –ü–æ–∏—Å–∫ IPA
find . -name "*.ipa" -type f

# –ü–æ–∏—Å–∫ –∞—Ä—Ö–∏–≤–æ–≤
find build/ -name "*.xcarchive" -type d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞
df -h .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ bundle ID
grep -r "PRODUCT_BUNDLE_IDENTIFIER" ios/

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–∞
tail -20 flutter_build.log
```

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:
```powershell
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Silent Fail
.\scripts\diagnose_silent_fail.ps1 -Verbose -AlternativeMethods

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
.\scripts\diagnose_ipa_issues.ps1
```

### GitHub Actions:
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π workflow —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ stdout/stderr
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–±–æ—Ä–∫–∏

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Silent Fail - —ç—Ç–æ **–ø—Ä–æ–±–ª–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞**, –∞ –Ω–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. Flutter —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–µ—Ç –∞—Ä—Ö–∏–≤, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ IPA –∏–∑-–∑–∞:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–¥–ø–∏—Å–∏
- –ü—Ä–æ–±–ª–µ–º —Å bundle identifier
- –°–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

**–ö–ª—é—á –∫ —Ä–µ—à–µ–Ω–∏—é:** –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ + –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–±–æ—Ä–∫–∏.