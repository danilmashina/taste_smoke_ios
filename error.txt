Ошибка сборки возникла не из-за подписей, а по следующим причинам:

Основная ошибка — проблемы с сетью на этапе CocoaPods:

В логах есть строчка:

text
CDN: trunk URL couldn't be downloaded: https://cdn.cocoapods.org/all_pods_versions_0_3_5.txt Response: Error in the HTTP2 framing layer, retries: 4
Это значит, что runner на GitHub Actions временами не смог получить необходимые спецификации pods из интернета. Иногда оно скачивалось с перезапросом через cdn.jsdelivr.net, но часть зависимостей могла не подгрузиться корректно.

Ошибка сборки exit code 65:

Сразу после сообщений об удачной установке Pod'ов идет Build Xcode, который завершился exit code 65. В логах не было явных ошибок компиляции приложеного к сборке кода, только ошибки при копировании некоторых .h-файлов промисов:

text
CpHeader .../FBLPromise.h .../FBLPromise Error .h
По опыту этот код ошибки связан именно с недоступностью/битостью pod'ов или их зависимостей вплоть до завершения сборки, не с самим подписыванием.

Что делать:

Перезапусти workflow: Часто такие сетевые ошибки лечатся простым повтором.

Попробуй добавить в step GitHub Actions:

text
- name: Setup pod repo retry
  run: pod repo update --verbose || pod repo update --verbose
Это даст CocoaPods второй шанс при неудаче.

Проверь что ни один pod не отмечен как “missing” или “broken” — если есть, почисти кэш runner (pod cache clean --all) и еще раз “pod install”.

Если используешь бесплатные раннеры GitHub, бывают временные перебои с cdn.cocoapods.org — попробуй разное время запуска pipeline либо альтернативный mirror.

Если ошибка "PromisesObjC/FBLPromise Error .h" останется, нужно проверить права на эти .h-файлы в Pods (или принудительно пересобрать их) — иногда помогает чистка папки DerivedData.

Подпись никак не нужна при --no-codesign, твоя схема полностью валидна для установки через AltStore. Ошибка именно в скачивании и интеграции pod-зависимостей!




Критичные ошибки из логов:

Сетевая ошибка CocoaPods:

text
CDN: trunk URL couldn't be downloaded: https://cdn.cocoapods.org/all_pods_versions_0_3_5.txt Response: Error in the HTTP2 framing layer, retries: 4
GitHub Actions runner не смог скачать часть спецификаций pods из CDN CocoaPods.

Итог — возможна битая или неполная установка зависимостей.

Внутренняя ошибка сборки Pods (PromisesObjC):

text
CpHeader .../PromisesObjC/FBLPromise Error .h ... (in target 'PromisesObjC' from project 'Pods')
Ошибка копирования/доступа к заголовочным файлам PromisesObjC. Может быть из-за отсутствия, ошибок прав, неудачной установки Pod'ов или проблем с содержимым DerivedData.

Общий итог:

text
Process completed with exit code 65
Стандартный признак сбоя сборки Xcode, связанный с ошибками выше.

Готовый PROMPT для устранения проблемы (можно использовать как инструкцию или прямо для CI/CD):

text
# 1. Добавить дополнительные попытки и подробный вывод на этапе CocoaPods
- name: Clean pod cache
  run: pod cache clean --all

- name: Update CocoaPods repo (double retry)
  run: pod repo update --verbose || pod repo update --verbose

- name: Install dependencies with retry
  run: pod install --repo-update --verbose || pod install --repo-update --verbose

# 2. Перед билдом удалить папку DerivedData и Pods, если остаются ошибки с .h файлами
- name: Clean DerivedData
  run: rm -rf ~/Library/Developer/Xcode/DerivedData/*

- name: Remove Pods folder and reinstall
  run: |
    cd ios
    rm -rf Pods Podfile.lock
    pod install --repo-update --verbose

# 3. После этого пробуй снова запускать билд:
- name: Flutter build iOS (no codesign)
  run: flutter build ios --no-codesign

# 4. Если еще будут ошибки:
# - Проверить логи на наличие "missing" или "broken" pod'ов,
# - Убедиться, что runner действительно скачал все зависимости,
# - Попробовать сменить раннер (использовать другой type/регион), или ждать когда на CDN pod'ов восстановится стабильная сеть.